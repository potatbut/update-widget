{"version":3,"sources":["widget/widget.js","index.js"],"names":["template","data","items","title","author","date","time","src","map","item","join","Widget","selector","$element","document","querySelector","notification","getElementsByClassName","length","getElementById","innerHTML","event","target","dataset","type","toggle","any","parentNode","isUpdate","classList","remove","style","display","contains","isOpen","hide","show","add","removeEventListener","clickHandler","bind","addEventListener","clickNotice","widget"],"mappings":"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","file":"updates-widget.fdced6ba.js","sourceRoot":"..","sourcesContent":["const template = () => {\r\n  const data = [\r\n    {\r\n      title: 'О котах',\r\n      author: 'Иван Иванов',\r\n      date: '15.03.21',\r\n      time: '15:40',\r\n      src: '#'\r\n    },\r\n    {\r\n      title: 'О собаках',\r\n      author: 'Петр Иванов',\r\n      date: '15.03.21',\r\n      time: '15:40',\r\n      src: '#'\r\n    },\r\n    {\r\n      title: 'Русский язык',\r\n      author: 'Семен Семенов',\r\n      date: '15.03.21',\r\n      time: '15:40',\r\n      src: '#'\r\n    },\r\n    {\r\n      title: 'Куда уходит детство',\r\n      author: 'Евдакий Семантьев',\r\n      date: '15.03.21',\r\n      time: '15:40',\r\n      src: '#'\r\n    },\r\n    {\r\n      title: 'Снова мой кот',\r\n      author: 'Иван Иванов',\r\n      date: '15.03.21',\r\n      time: '15:40',\r\n      src: '#'\r\n    }\r\n  ]\r\n  const items = data.map(item =>{\r\n    return `\r\n      <div class=\"widget__notice notice update\" >\r\n      <div class=\"notice__title\" >Тема: ${item.title}</div>\r\n      <div class=\"notice__author\">Автор: ${item.author}</div>\r\n      <div class=\"notice__date-time\">\r\n        <div class=\"notice__date\">${item.date}</div>\r\n        <div class=\"notice__time\">${item.time}</div>\r\n      </div>\r\n      <div class=\"notice__more\"><a href=\"${item.src}\"> Подробнее </a> </div>\r\n      <div data-type=\"notice\" class=\"notice__check\" > Отметить прочитанным </div>\r\n      \r\n    </div>\r\n    `\r\n  })\r\n\r\n    return `\r\n      <div class=\"widget__window\" id=\"widget__window\">\r\n        ${items.join('')}\r\n      </div>\r\n        <div class=\"widget__btn\"><button data-type=\"notif-btn\"> ☰ </button></div>\r\n          <div id=\"total-notif\" class=\"widget__total-notif\"></div>\r\n        </div>\r\n\r\n  `\r\n}\r\n\r\n\r\n\r\nexport class Widget {\r\n  constructor(selector) {\r\n    this.$element = document.querySelector(selector)\r\n    \r\n    this.#render()\r\n    this.#setup()\r\n    this.#notice()\r\n\r\n    let notification = document.getElementsByClassName('update').length\r\n    document.getElementById('total-notif').innerHTML = notification\r\n  }\r\n  \r\n  #render() {\r\n    this.$element.classList.add('widget')\r\n    this.$element.innerHTML = template()\r\n  }\r\n\r\n  #setup() {\r\n    this.clickHandler = this.clickHandler.bind(this)\r\n    this.$element.addEventListener('click', this.clickHandler)\r\n  }\r\n\r\n  #notice() {\r\n    this.clickNotice = this.clickNotice.bind(this)\r\n    this.$element.addEventListener('click', this.clickNotice)\r\n  }\r\n\r\n  clickHandler(event) {\r\n    const {type} = event.target.dataset\r\n    if (type === 'notif-btn') {\r\n      this.toggle()\r\n    }\r\n  }\r\n  \r\n  clickNotice(event) {\r\n    this.any = event.target.parentNode\r\n    if(this.isUpdate) {\r\n      this.any.classList.remove('update')\r\n      let notification = document.getElementsByClassName('update').length\r\n      document.getElementById('total-notif').innerHTML = notification\r\n      if (document.getElementsByClassName('update').length < 1) {\r\n        document.getElementById('total-notif').style.display = 'none'\r\n      }\r\n    }\r\n  }\r\n\r\n  get isOpen() {\r\n    return this.$element.classList.contains('show')\r\n  }\r\n\r\n  get isUpdate() {\r\n    return this.any.classList.contains('update')\r\n  }\r\n\r\n  toggle() {\r\n    this.isOpen ? this.hide() : this.show()\r\n  }\r\n\r\n  show() {\r\n    this.$element.classList.add('show')\r\n  }\r\n  \r\n  hide() {\r\n    this.$element.classList.remove('show')\r\n  }\r\n\r\n  destroy() {\r\n    this.$element.removeEventListener('click', this.clickHandler)\r\n  }\r\n}\r\n\r\n","import {Widget} from './widget/widget'\r\nimport './widget/styles.scss'\r\n\r\nconst widget = new Widget('#widget', {\r\n  /* data: [\r\n    {\r\n      title: 'О котах',\r\n      author: 'Иван Иванов',\r\n      date: '15.03.21',\r\n      time: '15:40',\r\n      src: '#'\r\n    },\r\n    {\r\n      title: 'О собаках',\r\n      author: 'Петр Иванов',\r\n      date: '15.03.21',\r\n      time: '15:40',\r\n      src: '#'\r\n    },\r\n    {\r\n      title: 'Рсский язык',\r\n      author: 'Семен Семенов',\r\n      date: '15.03.21',\r\n      time: '15:40',\r\n      src: '#'\r\n    },\r\n    {\r\n      title: 'Куда уходит детство',\r\n      author: 'Евдакий Семантьев',\r\n      date: '15.03.21',\r\n      time: '15:40',\r\n      src: '#'\r\n    },\r\n    {\r\n      title: 'Снова мой кот',\r\n      author: 'Иван Иванов',\r\n      date: '15.03.21',\r\n      time: '15:40',\r\n      src: '#'\r\n    }\r\n  ] */\r\n})\r\n\r\n\r\n\r\n"]}